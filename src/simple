import { Injectable } from '@nestjs/common';
import axios from 'axios'
import {SendSmsInterface} from './interfaces/notif.interfaces'
@Injectable()
export class NotifService {

  sendSMS(argument : SendSmsInterface){
    const {phone_number , confirm_code} = argument
  console.log(phone_number)
    axios.post('http://rest.ippanel.com/v1/messages' , {
  "originator": process.env.BaseNumber,
  "recipients": 
  [
    "09125830211"  
  ],
  "message": "به بزرگترین سامانه زنجیره ی تامیین و تولید خوش امدی" + "\n" +
 "کد تایید شما" + " " +  confirm_code
    },{
      headers : {
        Authorization: "AccessKey"+ " " +process.env.MedianaToken
      
    }
  }
    ).then(response=>{
      console.log(response.data)
    }).catch(e=>{
      console.log(e.response.data)
    })


  }


  sendEMAIL(){

  }


}
